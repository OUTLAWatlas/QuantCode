/* QuantCode Design Tokens and Base Styles */
:root {
  /* Colors */
  --color-primary-dark: #1A1A2E;
  --color-primary-medium: #16213E;
  --color-accent-primary: #0F3460;
  --color-negative: #E94560;
  --color-positive: #53BF9D;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: rgba(255, 255, 255, 0.8);
  --color-text-tertiary: rgba(255, 255, 255, 0.6);
  --color-text-disabled: rgba(255, 255, 255, 0.4);
  --color-overlay-light: rgba(255, 255, 255, 0.1);
  --color-overlay-medium: rgba(255, 255, 255, 0.2);
  --color-overlay-dark: rgba(0, 0, 0, 0.3);

  /* Typography */
  --font-heading: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;

  --text-h1: 2.5rem; /* 40 */
  --text-h2: 2rem;   /* 32 */
  --text-h3: 1.5rem; /* 24 */
  --text-h4: 1.25rem; /* 20 */
  --text-h5: 1.125rem; /* 18 */
  --text-body-large: 1.125rem; /* 18 */
  --text-body-base: 1rem; /* 16 */
  --text-body-small: 0.875rem; /* 14 */
  --text-caption: 0.75rem; /* 12 */
  --text-data-large: 1.5rem; /* 24 */
  --text-data-base: 1.125rem; /* 18 */
  --text-data-small: 1rem; /* 16 */

  --weight-light: 300;
  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;

  --leading-tight: 1.2;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* Spacing (4px scale) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;
  --space-24: 6rem;

  /* Shadows & Blur */
  --shadow-sm: 0 2px 6px rgba(0,0,0,0.25);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.3);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.35);
  --blur-sm: 4px;
  --blur-md: 8px;
  --blur-lg: 16px;

  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.2s ease;
  --transition-slow: 0.3s ease;
}

/* Base reset and theme background */
html, body, #root {
  height: 100%;
}

body {
  margin: 0;
  background: var(--color-primary-dark);
  color: var(--color-text-primary);
  font-family: var(--font-body);
  line-height: var(--leading-normal);
}

/* Typography helpers */
.h1 { font-family: var(--font-heading); font-size: var(--text-h1); font-weight: var(--weight-semibold); }
.h2 { font-family: var(--font-heading); font-size: var(--text-h2); font-weight: var(--weight-semibold); }
.h3 { font-family: var(--font-heading); font-size: var(--text-h3); font-weight: var(--weight-semibold); }

.text-secondary { color: var(--color-text-secondary); }
.text-tertiary { color: var(--color-text-tertiary); }
.text-positive { color: var(--color-positive); }
.text-negative { color: var(--color-negative); }

/* Buttons */
.btn-primary {
  padding: var(--space-3) var(--space-6);
  border: none;
  border-radius: 0;
  cursor: pointer;
  font-family: var(--font-body);
  font-size: var(--text-body-base);
  font-weight: var(--weight-semibold);
  background: var(--color-accent-primary);
  color: var(--color-text-primary);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-normal);
}
.btn-primary:hover {
  box-shadow: 0 0 20px rgba(15, 52, 96, 0.4);
  transform: translateY(-1px);
}
.btn-primary:active { transform: translateY(0); box-shadow: var(--shadow-sm); }

.btn-secondary {
  padding: var(--space-3) var(--space-6);
  border: 2px solid var(--color-overlay-medium);
  border-radius: 0;
  background: transparent;
  color: var(--color-text-primary);
  font-family: var(--font-body);
  font-size: var(--text-body-base);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: all var(--transition-normal);
}
.btn-secondary:hover { border-color: var(--color-accent-primary); background: var(--color-overlay-light); }

/* Cards */
.card {
  background: var(--color-primary-medium);
  border: 1px solid var(--color-overlay-light);
  border-radius: 8px;
  padding: var(--space-6);
  backdrop-filter: blur(var(--blur-md));
  -webkit-backdrop-filter: blur(var(--blur-md));
  box-shadow: var(--shadow-md);
  transition: all var(--transition-slow);
}
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.card-positive { border-left: 4px solid var(--color-positive); }
.card-negative { border-left: 4px solid var(--color-negative); }

/* Inputs */
.input-label {
  display: block;
  font-size: var(--text-body-small);
  font-weight: var(--weight-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
}
.input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: var(--color-primary-dark);
  border: none;
  border-bottom: 2px solid var(--color-overlay-medium);
  color: var(--color-text-primary);
  font-size: var(--text-body-base);
  outline: none;
  transition: border-color var(--transition-normal);
}
.input:focus { border-bottom-color: var(--color-accent-primary); }
.input::placeholder { color: var(--color-text-tertiary); }

/* Position Size Calculator */
.position-calculator {
  background: var(--color-overlay-light);
  backdrop-filter: blur(var(--blur-md));
  -webkit-backdrop-filter: blur(var(--blur-md));
  border-radius: 20px;
  padding: var(--space-6);
  margin: var(--space-8) 0;
  border: 1px solid var(--color-overlay-light);
  box-shadow: var(--shadow-lg);
  min-width: 320px;
  max-width: 600px;
}

.calculator-title {
  font-family: var(--font-heading);
  font-size: var(--text-h3);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-4);
  text-align: center;
}

.calculator-inputs { display: flex; flex-direction: column; gap: var(--space-4); margin-bottom: var(--space-4); }
.input-field { display: flex; flex-direction: column; gap: var(--space-2); }
.calculator-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: var(--color-overlay-light);
  border: 2px solid var(--color-overlay-medium);
  border-radius: 10px;
  color: var(--color-text-primary);
  font-size: var(--text-body-base);
  outline: none;
  transition: all var(--transition-normal);
}
.calculator-input:focus { border-color: var(--color-accent-primary); box-shadow: 0 0 0 3px rgba(15, 52, 96, 0.2); }
.calculator-input::placeholder { color: var(--color-text-tertiary); }

.calculate-btn {
  padding: var(--space-4) var(--space-6);
  background: var(--color-accent-primary);
  border: none;
  border-radius: 12px;
  color: var(--color-text-primary);
  font-size: var(--text-body-base);
  font-weight: var(--weight-semibold);
  cursor: pointer;
  transition: all var(--transition-normal);
  box-shadow: var(--shadow-md);
}
.calculate-btn:hover { transform: translateY(-2px); box-shadow: 0 0 20px rgba(15, 52, 96, 0.4); }
.calculate-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

.position-result {
  background: rgba(83, 191, 157, 0.1);
  border: 2px solid rgba(83, 191, 157, 0.3);
  border-radius: 12px;
  padding: var(--space-5);
  margin-top: var(--space-4);
  text-align: center;
}
.position-result-title { font-size: var(--text-h5); font-weight: var(--weight-semibold); color: var(--color-positive); margin-bottom: var(--space-2); }
.position-result-value { font-size: var(--text-h3); font-weight: var(--weight-bold); color: var(--color-positive); margin-bottom: var(--space-2); }
.position-result-details { font-size: var(--text-body-small); color: var(--color-text-secondary); line-height: var(--leading-normal); }

.position-error {
  background: rgba(233, 69, 96, 0.1);
  border: 2px solid rgba(233, 69, 96, 0.3);
  border-radius: 12px;
  padding: var(--space-4);
  margin-top: var(--space-4);
  color: var(--color-negative);
  text-align: center;
}

/* Utilities */
.container { max-width: 960px; margin: 0 auto; padding: 0 var(--space-6); }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

/* Animations */
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); background-size: 200% 100%; animation: shimmer 1.5s infinite; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.fade-in { animation: fadeIn 0.4s ease-out; }

@keyframes pulseGlow { 0% { box-shadow: 0 0 20px rgba(15,52,96,0.4); } 50% { box-shadow: 0 0 30px rgba(15,52,96,0.8); } 100% { box-shadow: 0 0 20px rgba(15,52,96,0.4); } }
.btn-primary.success { animation: pulseGlow 0.8s ease-in-out; }

/* Market pulse backgrounds */
@keyframes marketPulse { 0%,100% { opacity: 0.1; transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.02); } }
.market-pulse-bullish { background: radial-gradient(circle at center, rgba(83,191,157,0.1) 0%, transparent 70%); animation: marketPulse 4s ease-in-out infinite; }
.market-pulse-bearish { background: radial-gradient(circle at center, rgba(233,69,96,0.1) 0%, transparent 70%); animation: marketPulse 4s ease-in-out infinite; }

/* Focus mode */
.focus-mode-active .sidebar,
.focus-mode-active .secondary-nav,
.focus-mode-active .footer { display: none; }
.focus-mode-active .main-content { max-width: 100%; padding: var(--space-8); }

/* Focus states */
.focusable:focus { outline: 2px solid var(--color-accent-primary); outline-offset: 2px; }
.btn:focus { box-shadow: 0 0 0 3px rgba(15,52,96,0.3); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
  .market-pulse-bullish, .market-pulse-bearish { animation: none; }
}
